[Unit]
Description=ADK Agent Platform
After=network.target

[Service]
# User running the application
User=ubuntu
Group=ubuntu

# Directory where the code is cloned
WorkingDirectory=/home/ubuntu/blog-agent

# Environment variables
# Option A: Load from file (Recommended)
EnvironmentFile=/home/ubuntu/blog-agent/.env
# Option B: Set explicitly
# Environment="DATABASE_URL=postgresql://..."
# Environment="OPENROUTER_API_KEY=sk-..."
# Environment="AGENT_NAME=my-agent"

# Path to 'uv' or 'python' executable
# Assuming 'uv sync' has been run, we use the virtualenv python
ExecStart=/home/ubuntu/blog-agent/.venv/bin/python -m blog_agent.server

# Restart settings
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
