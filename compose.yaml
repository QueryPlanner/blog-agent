services:
  blog_agent:
    image: ghcr.io/queryplanner/blog-agent:main
    build: .
    ports:
      - "8081:8080"
    environment:
      - HOST=0.0.0.0
      - PORT=8080
      - AGENT_NAME=local-dev
      - LOG_LEVEL=INFO
      - RELOAD_AGENTS=true
      - SERVE_WEB_INTERFACE=true
      # DATABASE_URL and API Keys will be loaded from the .env file
    env_file:
      - .env
    # Volumes are for hot-reloading and persisting artifacts.
    volumes:
      - blog_agent_artifacts:/app/src/.adk
    restart: always
    command: python -m blog_agent.server

volumes:
  blog_agent_artifacts: